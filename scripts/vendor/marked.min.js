(function(){function s(t){this.tokens=[],this.tokens.links={},this.options=t||i.defaults,this.rules=n.normal,this.options.gfm&&(this.rules=this.options.tables?n.tables:n.gfm)}function e(n,r){if(this.options=r||i.defaults,this.links=n,this.rules=t.normal,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?t.breaks:t.gfm:this.options.pedantic&&(this.rules=t.pedantic)}function f(n){this.tokens=[],this.token=null,this.options=n||i.defaults}function r(n,t){return n.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(n,t){return n=n.source,t=t||"",function i(r,u){return r?(u=u.source||u,u=u.replace(/(^|[^\[])\^/g,"$1"),n=n.replace(r,u),i):new RegExp(n,t)}}function h(){}function o(n){for(var r=1,t,i;r<arguments.length;r++){t=arguments[r];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}function i(n,t){try{return t&&(t=o({},i.defaults,t)),f.parse(s.lex(n,t),t)}catch(u){if(u.message+="\nPlease report this to https://github.com/chjj/marked.",(t||i.defaults).silent)return"<p>An error occured:<\/p><pre>"+r(u.message+"",!0)+"<\/pre>";throw u;}}var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:h,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:h,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:h,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/},t;n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=u(n.item,"gm")(/bull/g,n.bullet)(),n.list=u(n.list)(/bull/g,n.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),n._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b",n.html=u(n.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,n._tag)(),n.paragraph=u(n.paragraph)("hr",n.hr)("heading",n.heading)("lheading",n.lheading)("blockquote",n.blockquote)("tag","<"+n._tag)("def",n.def)(),n.normal=o({},n),n.gfm=o({},n.normal,{fences:/^ *(`{3,}|~{3,}) *(\w+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),n.gfm.paragraph=u(n.paragraph)("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|")(),n.tables=o({},n.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),s.rules=n,s.lex=function(n,t){var i=new s(t);return i.lex(n)},s.prototype.lex=function(n){return n=n.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(n,!0)},s.prototype.token=function(t,i){for(var t=t.replace(/^ +$/gm,""),o,s,r,h,c,u,l,f,e;t;){if((r=this.rules.newline.exec(t))&&(t=t.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(t)){t=t.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:r.replace(/\n+$/,"")});continue}if(r=this.rules.fences.exec(t)){t=t.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]});continue}if(r=this.rules.heading.exec(t)){t=t.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});continue}if(i&&(r=this.rules.nptable.exec(t))){for(t=t.substring(r[0].length),u={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/\n$/,"").split("\n")},f=0;f<u.align.length;f++)u.align[f]=/^ *-+: *$/.test(u.align[f])?"right":/^ *:-+: *$/.test(u.align[f])?"center":/^ *:-+ *$/.test(u.align[f])?"left":null;for(f=0;f<u.cells.length;f++)u.cells[f]=u.cells[f].split(/ *\| */);this.tokens.push(u);continue}if(r=this.rules.lheading.exec(t)){t=t.substring(r[0].length),this.tokens.push({type:"heading",depth:r[2]==="="?1:2,text:r[1]});continue}if(r=this.rules.hr.exec(t)){t=t.substring(r[0].length),this.tokens.push({type:"hr"});continue}if(r=this.rules.blockquote.exec(t)){t=t.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,i),this.tokens.push({type:"blockquote_end"});continue}if(r=this.rules.list.exec(t)){for(t=t.substring(r[0].length),h=r[2],this.tokens.push({type:"list_start",ordered:h.length>1}),r=r[0].match(this.rules.item),o=!1,e=r.length,f=0;f<e;f++)u=r[f],l=u.length,u=u.replace(/^ *([*+-]|\d+\.) +/,""),~u.indexOf("\n ")&&(l-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&f!==e-1&&(c=n.bullet.exec(r[f+1])[0],h===c||h.length>1&&c.length>1||(t=r.slice(f+1).join("\n")+t,f=e-1)),s=o||/\n\n(?!\s*$)/.test(u),f!==e-1&&(o=u[u.length-1]==="\n",s||(s=o)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(u,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"});continue}if(r=this.rules.html.exec(t)){t=t.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:r[1]==="pre",text:r[0]});continue}if(i&&(r=this.rules.def.exec(t))){t=t.substring(r[0].length),this.tokens.links[r[1].toLowerCase()]={href:r[2],title:r[3]};continue}if(i&&(r=this.rules.table.exec(t))){for(t=t.substring(r[0].length),u={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/(?: *\| *)?\n$/,"").split("\n")},f=0;f<u.align.length;f++)u.align[f]=/^ *-+: *$/.test(u.align[f])?"right":/^ *:-+: *$/.test(u.align[f])?"center":/^ *:-+ *$/.test(u.align[f])?"left":null;for(f=0;f<u.cells.length;f++)u.cells[f]=u.cells[f].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(u);continue}if(i&&(r=this.rules.paragraph.exec(t))){t=t.substring(r[0].length),this.tokens.push({type:"paragraph",text:r[1][r[1].length-1]==="\n"?r[1].slice(0,-1):r[1]});continue}if(r=this.rules.text.exec(t)){t=t.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});continue}if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));}return this.tokens},t={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:h,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:h,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/},t._inside=/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/,t._href=/\s*<?([^\s]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,t.link=u(t.link)("inside",t._inside)("href",t._href)(),t.reflink=u(t.reflink)("inside",t._inside)(),t.normal=o({},t),t.pedantic=o({},t.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),t.gfm=o({},t.normal,{escape:u(t.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(t.text)("]|","~]|")("|","|https?://|")()}),t.breaks=o({},t.gfm,{br:u(t.br)("{2,}","*")(),text:u(t.gfm.text)("{2,}","*")()}),e.rules=t,e.output=function(n,t,i){var r=new e(t,i);return r.output(n)},e.prototype.output=function(n){for(var i="",f,u,e,t;n;){if(t=this.rules.escape.exec(n)){n=n.substring(t[0].length),i+=t[1];continue}if(t=this.rules.autolink.exec(n)){n=n.substring(t[0].length),t[2]==="@"?(u=t[1][6]===":"?this.mangle(t[1].substring(7)):this.mangle(t[1]),e=this.mangle("mailto:")+u):(u=r(t[1]),e=u),i+='<a href="'+e+'">'+u+"<\/a>";continue}if(t=this.rules.url.exec(n)){n=n.substring(t[0].length),u=r(t[1]),e=u,i+='<a href="'+e+'">'+u+"<\/a>";continue}if(t=this.rules.tag.exec(n)){n=n.substring(t[0].length),i+=this.options.sanitize?r(t[0]):t[0];continue}if(t=this.rules.link.exec(n)){n=n.substring(t[0].length),i+=this.outputLink(t,{href:t[2],title:t[3]});continue}if((t=this.rules.reflink.exec(n))||(t=this.rules.nolink.exec(n))){if(n=n.substring(t[0].length),f=(t[2]||t[1]).replace(/\s+/g," "),f=this.links[f.toLowerCase()],!f||!f.href){i+=t[0][0],n=t[0].substring(1)+n;continue}i+=this.outputLink(t,f);continue}if(t=this.rules.strong.exec(n)){n=n.substring(t[0].length),i+="<strong>"+this.output(t[2]||t[1])+"<\/strong>";continue}if(t=this.rules.em.exec(n)){n=n.substring(t[0].length),i+="<em>"+this.output(t[2]||t[1])+"<\/em>";continue}if(t=this.rules.code.exec(n)){n=n.substring(t[0].length),i+="<code>"+r(t[2],!0)+"<\/code>";continue}if(t=this.rules.br.exec(n)){n=n.substring(t[0].length),i+="<br>";continue}if(t=this.rules.del.exec(n)){n=n.substring(t[0].length),i+="<del>"+this.output(t[1])+"<\/del>";continue}if(t=this.rules.text.exec(n)){n=n.substring(t[0].length),i+=r(t[0]);continue}if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0));}return i},e.prototype.outputLink=function(n,t){return n[0][0]!=="!"?'<a href="'+r(t.href)+'"'+(t.title?' title="'+r(t.title)+'"':"")+">"+this.output(n[1])+"<\/a>":'<img src="'+r(t.href)+'" alt="'+r(n[1])+'"'+(t.title?' title="'+r(t.title)+'"':"")+">"},e.prototype.mangle=function(n){for(var r="",u=n.length,i=0,t;i<u;i++)t=n.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),r+="&#"+t+";";return r},f.parse=function(n,t){var i=new f(t);return i.parse(n)},f.prototype.parse=function(n){this.inline=new e(n.links,this.options),this.tokens=n.reverse();for(var t="";this.next();)t+=this.tok();return t},f.prototype.next=function(){return this.token=this.tokens.pop()},f.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},f.prototype.parseText=function(){for(var n=this.token.text;this.peek().type==="text";)n+="\n"+this.next().text;return this.inline.output(n)},f.prototype.tok=function(){var u,f,t,e,o,i,s,n;switch(this.token.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+this.token.depth+">"+this.inline.output(this.token.text)+"<\/h"+this.token.depth+">\n";case"code":return this.options.highlight&&(u=this.options.highlight(this.token.text,this.token.lang),u!=null&&u!==this.token.text&&(this.token.escaped=!0,this.token.text=u)),this.token.escaped||(this.token.text=r(this.token.text,!0)),"<pre><code"+(this.token.lang?' class="'+this.options.langPrefix+this.token.lang+'"':"")+">"+this.token.text+"<\/code><\/pre>\n";case"table":for(n="",n+="<thead>\n<tr>\n",t=0;t<this.token.header.length;t++)f=this.inline.output(this.token.header[t]),n+=this.token.align[t]?'<th align="'+this.token.align[t]+'">'+f+"<\/th>\n":"<th>"+f+"<\/th>\n";for(n+="<\/tr>\n<\/thead>\n",n+="<tbody>\n",t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n+="<tr>\n",i=0;i<e.length;i++)o=this.inline.output(e[i]),n+=this.token.align[i]?'<td align="'+this.token.align[i]+'">'+o+"<\/td>\n":"<td>"+o+"<\/td>\n";n+="<\/tr>\n"}return n+="<\/tbody>\n","<table>\n"+n+"<\/table>\n";case"blockquote_start":for(n="";this.next().type!=="blockquote_end";)n+=this.tok();return"<blockquote>\n"+n+"<\/blockquote>\n";case"list_start":for(s=this.token.ordered?"ol":"ul",n="";this.next().type!=="list_end";)n+=this.tok();return"<"+s+">\n"+n+"<\/"+s+">\n";case"list_item_start":for(n="";this.next().type!=="list_item_end";)n+=this.token.type==="text"?this.parseText():this.tok();return"<li>"+n+"<\/li>\n";case"loose_item_start":for(n="";this.next().type!=="list_item_end";)n+=this.tok();return"<li>"+n+"<\/li>\n";case"html":return!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;case"paragraph":return"<p>"+this.inline.output(this.token.text)+"<\/p>\n";case"text":return"<p>"+this.parseText()+"<\/p>\n"}},h.exec=h,i.options=i.setOptions=function(n){return o(i.defaults,n),i},i.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-"},i.Parser=f,i.parser=f.parse,i.Lexer=s,i.lexer=s.lex,i.InlineLexer=e,i.inlineLexer=e.output,i.parse=i,typeof exports=="object"?module.exports=i:typeof define=="function"&&define.amd?define(function(){return i}):this.marked=i}).call(function(){return this||(typeof window!="undefined"?window:global)}());
//@ sourceMappingURL=marked.min.js.map